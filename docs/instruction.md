# 指南 Instruction

## 机械运动 Mechanical Motion

### 电机示意图
uArm 是通过4个电机来运动的。如下图所示
![uarm servo](img/instruction/uarm_servo.jpg)

- Servo 0 - Bottom Servo  
这个电机控制uArm的地盘旋转

- Servo 1 - Left Servo，Servo 2 - Right Servo  
这两个电机控制uArm的前臂`Link1`与后臂`Link2`的运动  

- Servo 3 - Hand Servo  
这个小电机控制uArm前端，吸头(Suction cup)的角度旋转

### 电机控制
说到电机的控制，就要提到Arduino，众所周知，uArm是开源的机械臂。这得益于Arduino的开源。我们可以很方便的使用成千上万的开源库。
我们使用的电机是可以默认使用Arduino的servo.h库中默认的`servoWrite()`函数，每个电机的操作单位是度，范围从`0`度到`180`度。在装配的时候，我们都是依照固定的度数把电机安装到机械臂上的。
下图是机械臂默认的安装度数
- Servo 0 是90度，它处与中间位置  
- Servo 1 和 Servo 2 都是处于 90度的位置
- Servo 3 也是处于90度位置

虽然电机的活动范围是从0到180度，但是，由于机械结构的限制，在使用的时候，左右的电机的活动范围是没有这么大的范围的。

下图是左右电机的活动范围（单独一个电机运动时）。左边大概是150度到0度的范围，右边大概是20度到150度的范围
左右电机转动范围

底部的电机，和前端的电机都是0到180度，比较简单。如下图
底部电机，与前端电机的转动范围

但是左右的电机联动的时候，两个联动的活动范围是一个下图这样的面积。
左右电机运动范围图

通过以上的内容，你就可以直接通过各个电机的角度去控制机械臂的运动，但是这很不直观，也很**危险**，因为左右电机的联动互相锁死，很容易把电机**烧毁**。所以我们建立一个三维坐标系，详情请参照后面的，**三维坐标系**

### 读取电机角度
我们的使用的电机，内置了ADC（模拟数字转换器），可以把当前的角度模拟信号转换成数字，Arduino已经默认内置了`analogRead()`函数，读出来的数值，通过这个公式可以得出当前的角度，`intercept + analog * slope`，intercept与slope的涵义，在后面的**校正**中详细说明。

### 三维坐标系

直接控制全部电机的转动，可以很直接的控制uArm的运动，但是很不直观，也很危险。所以我们建立一个三维坐标系(x,y,z)，以`厘米`为单位。
